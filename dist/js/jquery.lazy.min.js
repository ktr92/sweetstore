/*! For license information please see jquery.lazy.min.js.LICENSE.txt */
!function(t,e){"use strict";function r(r,a,i,o,u){function l(){w=t.devicePixelRatio>1,c(i),a.delay>=0&&setTimeout((function(){f(!0)}),a.delay),(a.delay<0||a.combined)&&(o.e=function(t,e){var n,i=0;return function(o,u){function l(){i=+new Date,e.call(r,o)}var c=+new Date-i;n&&clearTimeout(n),c>t||!a.enableThrottle||u?l():n=setTimeout(l,t-c)}}(a.throttle,(function(t){"resize"===t.type&&(y=z=-1),f(t.all)})),o.a=function(t){c(t),i.push.apply(i,t)},o.g=function(){return i=n(i).filter((function(){return!n(this).data(a.loadedName)}))},f(),n(a.appendScroll).on("scroll."+u+" resize."+u,o.e))}function c(t){var i=a.defaultImage,o=a.placeholder,u=a.imageBase,l=a.srcsetAttribute,c=a.loaderAttribute,f=a._f||{};t=n(t).filter((function(){var t=n(this),r=h(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(l)||t.attr(c)||f[r]!=e)})).data("plugin_"+a.name,r);for(var s=0,d=t.length;d>s;s++){var A=n(t[s]),m=h(t[s]),g=A.attr(a.imageBaseAttribute)||u;m==I&&g&&A.attr(l)&&A.attr(l,b(A.attr(l),g)),f[m]==e||A.attr(c)||A.attr(c,f[m]),m==I&&i&&!A.attr(N)?A.attr(N,i):m==I||!o||A.css(E)&&"none"!=A.css(E)||A.css(E,"url('"+o+"')")}}function f(t){if(i.length){for(var e=!1,o=a.imageBase||"",u=a.srcsetAttribute,l=a.handledName,c=0,f=i.length;f>c;c++)!function(r){if(t||d(r)){var i=n(r),c=h(r),f=i.attr(a.attribute),A=i.attr(a.imageBaseAttribute)||o,m=i.attr(a.loaderAttribute);i.data(l)||a.visibleOnly&&!i.is(":visible")||!((f||i.attr(u))&&(c==I&&(A+f!=i.attr(N)||i.attr(u)!=i.attr(L))||c!=I&&A+f!=i.css(E))||m)||(e=!0,i.data(l,!0),s(i,c,A,m))}}(i[c]);e&&(i=n(i).filter((function(){return!n(this).data(l)})))}else a.autoDestroy&&r.destroy()}function s(t,e,r,i){++p;var o=function(){v("onError",t),g(),o=n.noop};v("beforeLoad",t);var u=a.attribute,l=a.srcsetAttribute,c=a.sizesAttribute,f=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(f);if(i){var m=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),v(B,t),setTimeout(g,1),m=n.noop};t.off(D).one(D,o).one(T,m),v(i,t,(function(e){e?(t.off(T),m()):(t.off(D),o())}))||t.error()}else{var h=n(new Image);h.one(D,o).one(T,(function(){t.hide(),e==I?t.attr(C,h.attr(C)).attr(L,h.attr(L)).attr(N,h.attr(N)):t.css(E,"url('"+h.attr(N)+"')"),t[a.effect](a.effectTime),s&&(t.removeAttr(u+" "+l+" "+f+" "+a.imageBaseAttribute),c!==C&&t.removeAttr(c)),t.data(d,!0),v(B,t),h.remove(),g()}));var b=(w&&A?A:t.attr(u))||"";h.attr(C,t.attr(c)).attr(L,t.attr(l)).attr(N,b?r+b:null),h.complete&&h.load()}}function d(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=m()+n>e.top&&-n<e.bottom,o=A()+n>e.left&&-n<e.right;return"vertical"==r?i:("horizontal"==r||i)&&o}function A(){return y>=0?y:y=n(t).width()}function m(){return z>=0?z:z=n(t).height()}function h(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;n>a;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function g(){--p,i.length||p||v("onFinishedAll")}function v(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var p=0,y=-1,z=-1,w=!1,B="afterLoad",T="load",D="error",I="img",N="src",L="srcset",C="sizes",E="background-image";"event"==a.bind?l():n(t).on(T+"."+u,l)}function a(a,o){var u=this,l=n.extend({},u.config,o),c={},f=l.name+"-"+ ++i;return u.config=function(t,r){return r===e?l[t]:(l[t]=r,u)},u.addItems=function(t){return c.a&&c.a("string"===n.type(t)?n(t):t),u},u.getItems=function(){return c.g?c.g():{}},u.update=function(t){return c.e&&c.e({},!t),u},u.loadAll=function(){return c.e&&c.e({all:!0},!0),u},u.destroy=function(){return n(l.appendScroll).off("."+f,c.e),n(t).off("."+f),c={},e},r(u,l,a,c,f),l.chainable?a:u}var n=t.jQuery||t.Zepto,i=0;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,u=o._f||(o._f={}),l=0,c=t.length;c>l;l++)(o[t[l]]===e||n.isFunction(o[t[l]]))&&(o[t[l]]=i);for(var f=0,s=r.length;s>f;f++)u[r[f]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,appendScroll:t,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",delay:-1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250}}(window);